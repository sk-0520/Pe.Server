parameters:
  level: 8
  phpVersion: 80000 # PHP 7.4

  checkAlwaysTrueCheckTypeFunctionCall: true
  checkAlwaysTrueInstanceof: true
  checkAlwaysTrueStrictComparison: true
  checkExplicitMixedMissingReturn: true
  checkFunctionNameCase: true
  checkInternalClassCaseSensitivity: true
  reportMaybesInMethodSignatures: true
  reportMaybesInPropertyPhpDocTypes: true
  reportStaticMethodSignatures: true
  checkTooWideReturnTypesInProtectedAndPublicMethods: true
  checkGenericClassInNonGenericObjectType: true
  checkDynamicProperties: true

  paths:
    - ../public_html
  excludePaths:
    - ../public_html/deploy
    - ../public_html/PeServer/data
    - ../public_html/PeServer/Core/Libs
    - ../public_html/PeServer/App/Models/Domain/Api/DevelopmentApi/DevelopmentApiInitializeLogic.php
  scanFiles:
    - ../public_html/PeServer/Core/Libs/smarty/libs/Smarty.class.php
    - ../public_html/PeServer/Core/Libs/smarty/libs/sysplugins/smarty_internal_template.php
    - ../public_html/PeServer/Core/Libs/smarty/libs/sysplugins/smarty_internal_data.php
    - ../public_html/PeServer/Core/Libs/PHPMailer/src/PHPMailer.php
    - ../public_html/PeServer/Core/Libs/PHPMailer/src/SMTP.php
    - ../public_html/PeServer/Core/Libs/php-markdown/Michelf/Markdown.php
    - ../public_html/PeServer/Core/Libs/php-markdown/Michelf/MarkdownExtra.php
    - ../public_html/PeServer/Core/Libs/php-markdown/Michelf/MarkdownInterface.php
  ignoreErrors:
    #- '/Parameter #1 \$callback of method PeServer\\Core\\Database\\Database::transaction\(\) expects callable\(PeServer\\Core\\Database\\IDatabaseContext, ...mixed\): bool,\s*Closure\(PeServer\\Core\\Database\\IDatabaseContext(.+)\): bool given\./'
    - '/Match expression does not handle remaining value:/'

  typeAliases:
    UnsignedIntegerAlias: 'int<0, max>'
    LogMessageAlias: 'object|array<mixed>|null|literal-string'
    ServerStoreValueAlias: 'string|int|array<int|string|null>|Serializable|null'
    DatabaseBindValueAlias: 'string|int|bool'
    FormatAlias: 'string|int|float'

includes:
  - ./bleedingEdge.neon
